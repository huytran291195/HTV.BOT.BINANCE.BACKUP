(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{697:function(t,e,n){"use strict";n(9),n(15),n(16),n(17);var r=n(1),l=(n(5),n(33),n(11),n(32),n(67),n(369),n(49),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(57),n(48),n(8),n(91),n(368),n(2)),o=n(102),c=n(0);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f=["sm","md","lg","xl"],m=f.reduce((function(t,e){return t[e]={type:[Boolean,String,Number],default:!1},t}),{}),v=f.reduce((function(t,e){return t["offset"+Object(c.G)(e)]={type:[String,Number],default:null},t}),{}),y=f.reduce((function(t,e){return t["order"+Object(c.G)(e)]={type:[String,Number],default:null},t}),{}),S={col:Object.keys(m),offset:Object.keys(v),order:Object.keys(y)};function x(t,e,n){var r=t;if(null!=n&&!1!==n){if(e){var l=e.replace(t,"");r+="-".concat(l)}return"col"!==t||""!==n&&!0!==n?(r+="-".concat(n)).toLowerCase():r.toLowerCase()}}var _=new Map;e.a=l.default.extend({name:"v-col",functional:!0,props:h(h(h(h({cols:{type:[Boolean,String,Number],default:!1}},m),{},{offset:{type:[String,Number],default:null}},v),{},{order:{type:[String,Number],default:null}},y),{},{alignSelf:{type:String,default:null,validator:function(t){return["auto","start","end","center","baseline","stretch"].includes(t)}},tag:{type:String,default:"div"}}),render:function(t,e){var n=e.props,data=e.data,l=e.children,c=(e.parent,"");for(var d in n)c+=String(n[d]);var h=_.get(c);return h||function(){var t,e;for(e in h=[],S)S[e].forEach((function(t){var r=n[t],l=x(e,t,r);l&&h.push(l)}));var l=h.some((function(t){return t.startsWith("col-")}));h.push((t={col:!l||!n.cols},Object(r.a)(t,"col-".concat(n.cols),n.cols),Object(r.a)(t,"offset-".concat(n.offset),n.offset),Object(r.a)(t,"order-".concat(n.order),n.order),Object(r.a)(t,"align-self-".concat(n.alignSelf),n.alignSelf),t)),_.set(c,h)}(),t(n.tag,Object(o.a)(data,{class:h}),l)}})},714:function(t,e,n){var content=n(715);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("50788f08",content,!0,{sourceMap:!1})},715:function(t,e,n){var r=n(18)(!1);r.push([t.i,".v-autocomplete.v-input>.v-input__control>.v-input__slot{cursor:text}.v-autocomplete input{align-self:center}.v-autocomplete.v-select.v-input--is-focused input{min-width:64px}.v-autocomplete:not(.v-input--is-focused).v-select--chips input{max-height:0;padding:0}.v-autocomplete--is-selecting-index input{opacity:0}.v-autocomplete.v-text-field--enclosed:not(.v-text-field--solo):not(.v-text-field--single-line):not(.v-text-field--outlined) .v-select__slot>input{margin-top:24px}.v-autocomplete.v-text-field--enclosed:not(.v-text-field--solo):not(.v-text-field--single-line):not(.v-text-field--outlined).v-input--dense .v-select__slot>input{margin-top:20px}.v-autocomplete__content.v-menu__content,.v-autocomplete__content.v-menu__content .v-card{border-radius:0}",""]),t.exports=r},728:function(t,e,n){var content=n(797);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("7bf83985",content,!0,{sourceMap:!1})},777:function(t,e,n){"use strict";n(11),n(9),n(16),n(8),n(17);var r=n(1),l=(n(65),n(5),n(15),n(79),n(84),n(159),n(48),n(66),n(714),n(710)),o=n(711),c=n(102),d=n(0);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m=f(f({},l.b),{},{offsetY:!0,offsetOverflow:!0,transition:!1});e.a=l.a.extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(t,e,n){return n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:l.a.options.props.menuProps.type,default:function(){return m}},noFilter:Boolean,searchInput:{type:String}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return f(f({},l.a.options.computed.classes.call(this)),{},{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var t=this;return this.selectedItems.map((function(e){return t.getValue(e)}))},hasDisplayedItems:function(){var t=this;return this.hideSelected?this.filteredItems.some((function(e){return!t.hasItem(e)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var t=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(e){var n=Object(d.s)(e,t.itemText),text=null!=n?String(n):"";return t.filter(e,String(t.internalSearch),text)}))},internalSearch:{get:function(){return this.lazySearch},set:function(t){this.lazySearch!==t&&(this.lazySearch=t,this.$emit("update:search-input",t))}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var t=l.a.options.computed.$_menuProps.call(this);return t.contentClass="v-autocomplete__content ".concat(t.contentClass||"").trim(),f(f({},m),t)},searchIsDirty:function(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem:function(){var t=this;return this.multiple?null:this.selectedItems.find((function(i){return t.valueComparator(t.getValue(i),t.getValue(t.internalValue))}))},listData:function(){var data=l.a.options.computed.listData.call(this);return data.props=f(f({},data.props),{},{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),data}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused:function(t){t?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.blur(),this.updateSelf())},isMenuActive:function(t){!t&&this.hasSlot&&(this.lazySearch=null)},items:function(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput:function(t){this.lazySearch=t},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created:function(){this.setSearch()},destroyed:function(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged:function(t,e){var n=this;if(t!==e){if(!this.autoSelectFirst){var r=e[this.$refs.menu.listIndex];r?this.setMenuIndex(t.findIndex((function(i){return i===r}))):this.setMenuIndex(-1),this.$emit("update:list-index",this.$refs.menu.listIndex)}this.$nextTick((function(){n.internalSearch&&(1===t.length||n.autoSelectFirst)&&(n.$refs.menu.getTiles(),n.autoSelectFirst&&t.length&&(n.setMenuIndex(0),n.$emit("update:list-index",n.$refs.menu.listIndex)))}))}},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(t){this.searchIsDirty||(this.multiple&&t===d.y.left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&t===d.y.right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:t!==d.y.backspace&&t!==d.y.delete||this.deleteCurrentItem())},deleteCurrentItem:function(){var t=this.selectedIndex,e=this.selectedItems[t];if(this.isInteractive&&!this.getDisabled(e)){var n=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===n){var r=t!==this.selectedItems.length-1?t:t-1;this.selectedItems[r]?this.selectItem(e):this.setValue(this.multiple?[]:null),this.selectedIndex=r}else this.selectedIndex=n}},clearableCallback:function(){this.internalSearch=null,l.a.options.methods.clearableCallback.call(this)},genInput:function(){var input=o.a.options.methods.genInput.call(this);return input.data=Object(c.a)(input.data,{attrs:{"aria-activedescendant":Object(d.q)(this.$refs.menu,"activeTile.id"),autocomplete:Object(d.q)(input.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),input},genInputSlot:function(){var slot=l.a.options.methods.genInputSlot.call(this);return slot.data.attrs.role="combobox",slot},genSelections:function(){return this.hasSlot||this.multiple?l.a.options.methods.genSelections.call(this):[]},onClick:function(t){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(t.target)||this.activateMenu())},onInput:function(t){if(!(this.selectedIndex>-1)&&t.target){var e=t.target,n=e.value;e.value&&this.activateMenu(),this.multiple||""!==n||this.deleteCurrentItem(),this.internalSearch=n,this.badInput=e.validity&&e.validity.badInput}},onKeyDown:function(t){var e=t.keyCode;!t.ctrlKey&&[d.y.home,d.y.end].includes(e)||l.a.options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown:function(t){},onTabDown:function(t){l.a.options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown:function(t){t.preventDefault(),this.activateMenu()},selectItem:function(t){l.a.options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems:function(){l.a.options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var t=this;this.$nextTick((function(){t.multiple&&t.internalSearch&&t.isMenuActive||(t.internalSearch=!t.selectedItems.length||t.multiple||t.hasSlot?null:t.getText(t.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.multiple||this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(t){return this.selectedValues.indexOf(this.getValue(t))>-1},onCopy:function(t){var e,n;if(-1!==this.selectedIndex){var r=this.selectedItems[this.selectedIndex],l=this.getText(r);null==(e=t.clipboardData)||e.setData("text/plain",l),null==(n=t.clipboardData)||n.setData("text/vnd.vuetify.autocomplete.item+plain",l),t.preventDefault()}}}})},796:function(t,e,n){"use strict";n(728)},797:function(t,e,n){var r=n(18)(!1);r.push([t.i,".signal-order-page[data-v-d2116bb0]{position:relative;padding:0 20px 80px}.filter-fixed[data-v-d2116bb0]{position:-webkit-sticky;position:sticky;top:64px;z-index:4;background-color:#fff;box-shadow:0 2px 4px rgba(0,0,0,.1),0 6px 12px rgba(0,0,0,.1)!important}",""]),t.exports=r},834:function(t,e,n){"use strict";n.r(e);var r=n(777),l=n(233),o=n(688),c=n(687),d=n(708),h=n(697),f=n(707),m=n(827),v=n(826),y=n(699),S=n(671),x=n(268),_=n(235),I=n(152),O=n(93),w=n(670),k=n(683),L=n(791),D=n(711),C=(n(32),n(264),n(273),n(35),n(48),n(66),n(11),n(9),n(15),n(16),n(17),n(20)),j=n(85),E=n(1),T=(n(86),n(5),n(384),n(49),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(57),n(65),n(8),n(67),n(46)),M=n(134),P=n.n(M),F=n(4);function V(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function A(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?V(Object(source),!0).forEach((function(e){Object(E.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):V(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var $={name:"SignalOrderAnalysis",components:{},data:function(){return{signals:[],headers:[{text:"Order ID",value:"order_id"},{text:"Symbol",value:"symbol"},{text:"Profit",value:"pnl"},{text:"PNL",value:"total_pnl"},{text:"EMA Crossover",value:"ema_crossover"},{text:"SMA Crossover",value:"sma_crossover"},{text:"RSI",value:"rsi"},{text:"Stoch RSI",value:"stoch_rsi"},{text:"MACD",value:"macd"},{text:"Volume",value:"volume"},{text:"Bollinger Bands",value:"bollinger_bands"},{text:"Price Trend",value:"price_trend"},{text:"Time",value:"created_at"},{text:"",value:"actions",sortable:!1}],detailDialog:!1,selectedOrder:null,signalKeys:["ema_crossover","sma_crossover","rsi","stoch_rsi","macd","volume","bollinger_bands","price_trend"],search:"",loading:!1,filterVisible:!0,fromMenu:!1,toMenu:!1,filters:{symbol:[],pnl:null,from_date:null,to_date:null},totalProfit:0,totalLoss:0,mode:"table",STORAGE_KEYS:{FILTERS:"orderSignal_filters",FILTER_VISIBLE:"orderSignal_filterVisible",MODE:"orderSignal_mode"}}},computed:A(A({},Object(T.c)({botSignalsList:"bot/botSignalsList"})),{},{uniqueSymbols:function(){var t=new Set(this.signals.map((function(t){return t.symbol})));return Object(j.a)(t)},buySellChartData:function(){var t=this;if(!this.signals.length)return{series:[],options:{}};var e={};this.signalKeys.forEach((function(t){e[t]={BUY:0,SELL:0}})),this.signals.forEach((function(n){t.signalKeys.forEach((function(t){var r,l=null===(r=n[t])||void 0===r?void 0:r.toUpperCase();"BUY"===l?e[t].BUY++:"SELL"===l&&e[t].SELL++}))}));var n=this.signalKeys.map((function(t){return t.replace(/_/g," ").toUpperCase()}));return{series:[{name:"BUY",data:this.signalKeys.map((function(t){return e[t].BUY}))},{name:"SELL",data:this.signalKeys.map((function(t){return e[t].SELL}))}],options:{chart:{id:"buy-sell-signal-chart",toolbar:{show:!0}},xaxis:{categories:n,title:{text:"Tín hiệu kỹ thuật"}},plotOptions:{bar:{horizontal:!1,columnWidth:"50%"}},title:{text:"Số lượng BUY và SELL theo từng tín hiệu kỹ thuật",align:"center",style:{fontWeight:"bold",fontSize:"16px"}},colors:["#2ecc71","#e74c3c"],legend:{position:"top"},dataLabels:{enabled:!0}}}}}),watch:{filterVisible:function(t){this.saveLocalStorage()},mode:function(t){this.saveLocalStorage()}},mounted:function(){this.init()},methods:A(A({},Object(T.b)({setLoadingForm:"common/setLoadingForm",toggleSnackbar:"common/toggleSnackbar",getSignalsList:"bot/getSignalsList"})),{},{init:function(){var t=this;return Object(C.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.resetFilters(),t.loadLocalStorage(),e.next=4,t.fetchSignals();case 4:case"end":return e.stop()}}),e)})))()},fetchSignals:function(){var t=this;return Object(C.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,n={pnl_type:"LÃI"===t.filters.pnl?"profit":"LỖ"===t.filters.pnl?"loss":null,symbol:t.filters.symbol.length>0?t.filters.symbol:null,from_date:t.filters.from_date||null,to_date:t.filters.to_date||null},t.setLoadingForm(!0),e.next=6,t.getSignalsList(n);case 6:r=t.exceptionApi_checkApiResult(F.a.API_PATH.BOT_SIGNALS_LIST.PATH),t.signals=r?Object(j.a)(t.botSignalsList):[],t.setLoadingForm(!1),t.calculateTotalPnL(t.signals),t.saveLocalStorage(),t.$vuetify.breakpoint.smAndDown&&(t.filterVisible=!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.toggleSnackbar({isShow:!0,message:"Không tải được danh sách tín hiệu",color:"error"});case 17:return e.prev=17,t.loading=!1,t.setLoadingForm(!1),e.finish(17);case 21:case"end":return e.stop()}}),e,null,[[1,14,17,21]])})))()},setMode:function(t){this.mode=t,this.$vuetify.breakpoint.smAndDown&&(this.filterVisible=!1),this.$nextTick((function(){window.scrollTo({top:0,behavior:"smooth"})}))},calculateTotalPnL:function(data){var t=0,e=0;data.forEach((function(n){var r=parseFloat(n.total_pnl||0);n.pnl?t+=r:e+=r})),this.totalProfit=t,this.totalLoss=e},getSignalColor:function(t){return{BUY:"green",SELL:"red",NEUTRAL:"grey"}[null==t?void 0:t.toUpperCase()]||"grey"},viewDetail:function(t){this.selectedOrder=t,this.detailDialog=!0},applyFilters:function(){this.fetchSignals()},resetFilters:function(){this.filters={symbol:[],pnl:null,from_date:P()().subtract(7,"days").format("YYYY-MM-DD"),to_date:P()().format("YYYY-MM-DD")},this.search=""},statusColor:function(t){switch(t){case"FILLED":return"green";case"CANCELED":return"grey";case"OPEN":case"NEW":return"blue";case"EXPIRED":return"orange";default:return"primary"}},copyToClipboard:function(text){var t=this;if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(text).then((function(){t.toggleSnackbar({isShow:!0,message:"✅ Đã sao chép vào clipboard!",color:"success"})})).catch((function(){t.toggleSnackbar({isShow:!0,message:"❌ Sao chép thất bại!",color:"error"})}));else{var textarea=document.createElement("textarea");textarea.value=text,textarea.style.position="fixed",textarea.style.top="-9999px",document.body.appendChild(textarea),textarea.focus(),textarea.select();try{var e=document.execCommand("copy");this.toggleSnackbar({isShow:!0,message:e?"✅ Đã sao chép (bằng fallback)!":"❌ Không thể sao chép!",color:e?"success":"error"})}catch(t){this.toggleSnackbar({isShow:!0,message:"❌ Sao chép thất bại!",color:"error"})}document.body.removeChild(textarea)}},loadLocalStorage:function(){try{var t=localStorage.getItem(this.STORAGE_KEYS.FILTERS);t&&(this.filters=JSON.parse(t));var e=localStorage.getItem(this.STORAGE_KEYS.FILTER_VISIBLE);null!==e&&(this.filterVisible="true"===e);var n=localStorage.getItem(this.STORAGE_KEYS.MODE);n&&(this.mode=n)}catch(t){console.warn("Lỗi load localStorage:",t)}},saveLocalStorage:function(){try{localStorage.setItem(this.STORAGE_KEYS.FILTERS,JSON.stringify(this.filters)),localStorage.setItem(this.STORAGE_KEYS.FILTER_VISIBLE,this.filterVisible),localStorage.setItem(this.STORAGE_KEYS.MODE,this.mode)}catch(t){console.warn("Lỗi lưu localStorage:",t)}}})},R=(n(796),n(40)),component=Object(R.a)($,(function(){var t=this,e=t._self._c;return e(f.a,{staticClass:"signal-order-page",attrs:{fluid:""}},[e(o.a,{staticClass:"filter-fixed pa-4 mb-3",attrs:{flat:""}},[e("div",{staticClass:"d-flex justify-space-between align-center mb-2"},[e("span",{staticClass:"text-h6 font-weight-bold"},[t._v("Bộ lọc điều kiện")]),t._v(" "),e(l.a,{attrs:{color:"primary",small:"",elevation:"1",rounded:""},on:{click:function(e){t.filterVisible=!t.filterVisible}}},[e(_.a,{attrs:{left:""}},[t._v(t._s(t.filterVisible?"mdi-chevron-up":"mdi-chevron-down"))]),t._v("\n        "+t._s(t.filterVisible?"Ẩn bộ lọc":"Hiện bộ lọc")+"\n      ")],1)],1),t._v(" "),e(x.a,[e("div",{directives:[{name:"show",rawName:"v-show",value:t.filterVisible,expression:"filterVisible"}]},[e(k.a,{attrs:{dense:""}},[e(h.a,{attrs:{cols:"12",md:"3"}},[e(r.a,{attrs:{items:t.uniqueSymbols,label:"Symbol",dense:"",outlined:"",clearable:"",chips:"",multiple:"","prepend-icon":"mdi-finance","hide-details":""},scopedSlots:t._u([{key:"selection",fn:function(n){var r=n.item;return[e(d.a,{attrs:{color:t.statusColor(r),dark:"",small:""}},[t._v(t._s(r))])]}}]),model:{value:t.filters.symbol,callback:function(e){t.$set(t.filters,"symbol",e)},expression:"filters.symbol"}})],1),t._v(" "),e(h.a,{attrs:{cols:"12",md:"3"}},[e(r.a,{attrs:{items:["LÃI","LỖ"],label:"Lãi / Lỗ",dense:"",outlined:"",clearable:"","prepend-icon":"mdi-cash-multiple","hide-details":""},scopedSlots:t._u([{key:"selection",fn:function(n){var r=n.item;return[e(d.a,{attrs:{color:"LÃI"===r?"green":"red",dark:"",small:""}},[t._v(t._s(r))])]}},{key:"item",fn:function(n){var r=n.item,l=n.on,o=n.attrs;return[e(I.a,t._g(t._b({},"v-list-item",o,!1),l),[e(O.a,[e(O.b,{style:{color:"LÃI"===r?"#4caf50":"#f44336"}},[t._v("\n                      "+t._s(r)+"\n                    ")])],1)],1)]}}]),model:{value:t.filters.pnl,callback:function(e){t.$set(t.filters,"pnl",e)},expression:"filters.pnl"}})],1),t._v(" "),e(h.a,{staticClass:"pa-0",attrs:{cols:"12",md:"3"}}),t._v(" "),e(h.a,{staticClass:"pa-0",attrs:{cols:"12",md:"3"}}),t._v(" "),e(h.a,{attrs:{cols:"12",md:"3"}},[e(w.a,{ref:"fromMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[e(D.a,t._g(t._b({attrs:{label:"Từ ngày",readonly:"",dense:"",outlined:"",clearable:"","prepend-icon":"mdi-calendar","hide-details":""},model:{value:t.filters.from_date,callback:function(e){t.$set(t.filters,"from_date",e)},expression:"filters.from_date"}},"v-text-field",l,!1),r))]}}]),model:{value:t.fromMenu,callback:function(e){t.fromMenu=e},expression:"fromMenu"}},[t._v(" "),e(v.a,{on:{input:function(e){t.fromMenu=!1}},model:{value:t.filters.from_date,callback:function(e){t.$set(t.filters,"from_date",e)},expression:"filters.from_date"}})],1)],1),t._v(" "),e(h.a,{attrs:{cols:"12",md:"3"}},[e(w.a,{ref:"toMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[e(D.a,t._g(t._b({attrs:{label:"Đến ngày",readonly:"",dense:"",outlined:"",clearable:"","prepend-icon":"mdi-calendar","hide-details":""},model:{value:t.filters.to_date,callback:function(e){t.$set(t.filters,"to_date",e)},expression:"filters.to_date"}},"v-text-field",l,!1),r))]}}]),model:{value:t.toMenu,callback:function(e){t.toMenu=e},expression:"toMenu"}},[t._v(" "),e(v.a,{on:{input:function(e){t.toMenu=!1}},model:{value:t.filters.to_date,callback:function(e){t.$set(t.filters,"to_date",e)},expression:"filters.to_date"}})],1)],1),t._v(" "),e(h.a,{attrs:{cols:"12",md:"6"}},[e(D.a,{attrs:{"append-icon":"mdi-magnify",label:"Tìm kiếm từ khoá","single-line":"","hide-details":"",dense:"",outlined:"",clearable:"","prepend-icon":"mdi-magnify"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),e(h.a,{staticClass:"d-flex justify-end align-center flex-wrap",class:t.$vuetify.breakpoint.smAndDown?"flex-column align-stretch":"",attrs:{cols:"12"}},[e(l.a,{staticClass:"d-flex align-center ml-2 mt-3",attrs:{small:"",color:"table"===t.mode?"primary":"grey lighten-3"},on:{click:function(e){return t.setMode("table")}}},[e(_.a,{attrs:{left:"",size:"18"}},[t._v(t._s("table"===t.mode?"mdi-table":"mdi-table-outline"))]),t._v("\n              Xem bảng\n            ")],1),t._v(" "),e(l.a,{staticClass:"d-flex align-center ml-2 mt-3",attrs:{small:"",color:"chart"===t.mode?"primary":"grey lighten-3"},on:{click:function(e){return t.setMode("chart")}}},[e(_.a,{attrs:{left:"",size:"18"}},[t._v(t._s("chart"===t.mode?"mdi-chart-bar":"mdi-chart-bar-stacked"))]),t._v("\n              Xem biểu đồ tín hiệu\n            ")],1),t._v(" "),e(l.a,{attrs:{small:"",color:"grey lighten-3 ml-2 mt-3"},on:{click:t.resetFilters}},[e(_.a,{attrs:{left:""}},[t._v("mdi-refresh")]),t._v(" Reset\n            ")],1),t._v(" "),e(l.a,{staticClass:"ml-2 mt-3",attrs:{color:"primary",small:""},on:{click:t.applyFilters}},[e(_.a,{attrs:{left:""}},[t._v("mdi-magnify")]),t._v(" Tìm kiếm\n            ")],1)],1)],1)],1)])],1),t._v(" "),e("div",{staticClass:"d-flex align-center mb-3",staticStyle:{gap:"16px"}},[e(d.a,{staticClass:"font-weight-bold white--text",staticStyle:{"font-size":"14px",height:"36px",padding:"0 12px"},attrs:{color:"green",label:""}},[e(_.a,{attrs:{left:"",small:""}},[t._v("mdi-trending-up")]),t._v("\n      +"+t._s(t.totalProfit.toFixed(2))+" USDT\n    ")],1),t._v(" "),e(d.a,{staticClass:"font-weight-bold white--text",staticStyle:{"font-size":"14px",height:"36px",padding:"0 12px"},attrs:{color:"red",label:""}},[e(_.a,{attrs:{left:"",small:""}},[t._v("mdi-trending-down")]),t._v("\n      "+t._s(t.totalLoss.toFixed(2))+" USDT\n    ")],1)],1),t._v(" "),"table"===t.mode?e("div",[e(m.a,{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.signals,search:t.search,loading:t.loading,"item-key":"id","items-per-page":50,"footer-props":{"items-per-page-options":[10,20,50,100],"items-per-page-text":"Số dòng mỗi trang"},"no-data-text":"Không có dữ liệu","loading-text":"Đang tải dữ liệu...","fixed-header":"",height:"690px"},scopedSlots:t._u([{key:"item.pnl",fn:function(n){var r=n.item;return[e(d.a,{staticClass:"w-100 justify-center font-weight-bold white--text",staticStyle:{width:"80px","justify-content":"center"},attrs:{small:"",color:r.pnl?"green":"red"}},[t._v("\n          "+t._s(r.pnl?"LÃI":"LỖ")+"\n        ")])]}},{key:"item.total_pnl",fn:function(n){var r=n.item;return[e("span",{style:{color:r.pnl?"green":"red",fontWeight:"bold"}},[t._v("\n          "+t._s(r.total_pnl.toFixed(4))+"\n        ")])]}},t._l(t.signalKeys,(function(n){return{key:"item.".concat(n),fn:function(r){var l=r.item;return[e("div",{key:"chip-".concat(l.order_id,"-").concat(n),staticStyle:{width:"100px","text-align":"center"}},[e(d.a,{staticClass:"w-100 justify-center font-weight-bold",staticStyle:{width:"80px","justify-content":"center"},attrs:{small:"",outlined:"",color:t.getSignalColor(l[n])}},[t._v("\n            "+t._s(l[n])+"\n          ")])],1)]}}})),{key:"item.actions",fn:function(n){var r=n.item;return[e(_.a,{attrs:{small:"",color:"primary"},on:{click:function(e){return t.viewDetail(r)}}},[t._v("mdi-eye")])]}}],null,!0)})],1):t._e(),t._v(" "),"chart"===t.mode?e("div",{staticStyle:{"margin-top":"24px"}},[e("client-only",[e("apexchart",{attrs:{type:"bar",height:"500",series:t.buySellChartData.series,options:t.buySellChartData.options}})],1)],1):t._e(),t._v(" "),e(y.a,{attrs:{"max-width":"800px",persistent:""},model:{value:t.detailDialog,callback:function(e){t.detailDialog=e},expression:"detailDialog"}},[e(o.a,{staticStyle:{display:"flex","flex-direction":"column",height:"800px"}},[e(c.d,{staticClass:"headline"},[t._v("Chi tiết tín hiệu")]),t._v(" "),t.selectedOrder?e(c.c,{staticStyle:{flex:"1 1 auto","overflow-y":"auto","padding-bottom":"16px"}},[e(L.a,{attrs:{dense:""}},[e("tbody",t._l(t.selectedOrder,(function(n,r){return e("tr",{key:r},[e("td",{staticClass:"font-weight-bold text-caption",staticStyle:{width:"150px"}},[t._v("\n                "+t._s(r)+"\n              ")]),t._v(" "),e("td",[t.signalKeys.includes(r)?[e(d.a,{staticClass:"font-weight-bold",staticStyle:{"min-width":"70px"},attrs:{small:"",outlined:"",color:t.getSignalColor(n)}},[t._v("\n                    "+t._s(n)+"\n                  ")])]:"view"===r?[e("div",{staticClass:"json-container pa-2 grey lighten-4",staticStyle:{position:"relative","border-radius":"4px","max-height":"700px",overflow:"auto"}},[e(l.a,{staticClass:"copy-btn",staticStyle:{position:"absolute",top:"8px",right:"8px","z-index":"10"},attrs:{icon:"",small:"",color:"primary",title:"Copy JSON"},on:{click:function(e){t.copyToClipboard(JSON.stringify(n,null,2))}}},[e(_.a,{attrs:{small:""}},[t._v("mdi-content-copy")])],1),t._v(" "),e("pre",{staticStyle:{"white-space":"pre-wrap","font-size":"13px","padding-right":"40px","user-select":"text"}},[t._v(t._s(JSON.stringify(n,null,2))+"\n                ")])],1)]:[e("span",[t._v(t._s(n))])]],2)])})),0)])],1):t._e(),t._v(" "),e(S.a),t._v(" "),e(c.a,{staticStyle:{"flex-shrink":"0","justify-content":"flex-end"}},[e(l.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.detailDialog=!1}}},[t._v("Đóng")])],1)],1)],1)],1)}),[],!1,null,"d2116bb0",null);e.default=component.exports}}]);