(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{697:function(e,t,r){"use strict";r(9),r(15),r(16),r(17);var n=r(1),o=(r(5),r(33),r(11),r(32),r(67),r(369),r(49),r(370),r(371),r(372),r(373),r(374),r(375),r(376),r(377),r(378),r(379),r(380),r(381),r(382),r(57),r(48),r(8),r(91),r(368),r(2)),l=r(102),c=r(0);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h=["sm","md","lg","xl"],m=h.reduce((function(e,t){return e[t]={type:[Boolean,String,Number],default:!1},e}),{}),v=h.reduce((function(e,t){return e["offset"+Object(c.G)(t)]={type:[String,Number],default:null},e}),{}),_=h.reduce((function(e,t){return e["order"+Object(c.G)(t)]={type:[String,Number],default:null},e}),{}),y={col:Object.keys(m),offset:Object.keys(v),order:Object.keys(_)};function x(e,t,r){var n=e;if(null!=r&&!1!==r){if(t){var o=t.replace(e,"");n+="-".concat(o)}return"col"!==e||""!==r&&!0!==r?(n+="-".concat(r)).toLowerCase():n.toLowerCase()}}var S=new Map;t.a=o.default.extend({name:"v-col",functional:!0,props:f(f(f(f({cols:{type:[Boolean,String,Number],default:!1}},m),{},{offset:{type:[String,Number],default:null}},v),{},{order:{type:[String,Number],default:null}},_),{},{alignSelf:{type:String,default:null,validator:function(e){return["auto","start","end","center","baseline","stretch"].includes(e)}},tag:{type:String,default:"div"}}),render:function(e,t){var r=t.props,data=t.data,o=t.children,c=(t.parent,"");for(var d in r)c+=String(r[d]);var f=S.get(c);return f||function(){var e,t;for(t in f=[],y)y[t].forEach((function(e){var n=r[e],o=x(t,e,n);o&&f.push(o)}));var o=f.some((function(e){return e.startsWith("col-")}));f.push((e={col:!o||!r.cols},Object(n.a)(e,"col-".concat(r.cols),r.cols),Object(n.a)(e,"offset-".concat(r.offset),r.offset),Object(n.a)(e,"order-".concat(r.order),r.order),Object(n.a)(e,"align-self-".concat(r.alignSelf),r.alignSelf),e)),S.set(c,f)}(),e(r.tag,Object(l.a)(data,{class:f}),o)}})},714:function(e,t,r){var content=r(715);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(19).default)("50788f08",content,!0,{sourceMap:!1})},715:function(e,t,r){var n=r(18)(!1);n.push([e.i,".v-autocomplete.v-input>.v-input__control>.v-input__slot{cursor:text}.v-autocomplete input{align-self:center}.v-autocomplete.v-select.v-input--is-focused input{min-width:64px}.v-autocomplete:not(.v-input--is-focused).v-select--chips input{max-height:0;padding:0}.v-autocomplete--is-selecting-index input{opacity:0}.v-autocomplete.v-text-field--enclosed:not(.v-text-field--solo):not(.v-text-field--single-line):not(.v-text-field--outlined) .v-select__slot>input{margin-top:24px}.v-autocomplete.v-text-field--enclosed:not(.v-text-field--solo):not(.v-text-field--single-line):not(.v-text-field--outlined).v-input--dense .v-select__slot>input{margin-top:20px}.v-autocomplete__content.v-menu__content,.v-autocomplete__content.v-menu__content .v-card{border-radius:0}",""]),e.exports=n},727:function(e,t,r){var content=r(795);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(19).default)("5ad55981",content,!0,{sourceMap:!1})},777:function(e,t,r){"use strict";r(11),r(9),r(16),r(8),r(17);var n=r(1),o=(r(65),r(5),r(15),r(79),r(84),r(159),r(48),r(66),r(714),r(710)),l=r(711),c=r(102),d=r(0);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m=h(h({},o.b),{},{offsetY:!0,offsetOverflow:!0,transition:!1});t.a=o.a.extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(e,t,r){return r.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:o.a.options.props.menuProps.type,default:function(){return m}},noFilter:Boolean,searchInput:{type:String}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return h(h({},o.a.options.computed.classes.call(this)),{},{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var e=this;return this.selectedItems.map((function(t){return e.getValue(t)}))},hasDisplayedItems:function(){var e=this;return this.hideSelected?this.filteredItems.some((function(t){return!e.hasItem(t)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var e=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(t){var r=Object(d.s)(t,e.itemText),text=null!=r?String(r):"";return e.filter(t,String(e.internalSearch),text)}))},internalSearch:{get:function(){return this.lazySearch},set:function(e){this.lazySearch!==e&&(this.lazySearch=e,this.$emit("update:search-input",e))}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var e=o.a.options.computed.$_menuProps.call(this);return e.contentClass="v-autocomplete__content ".concat(e.contentClass||"").trim(),h(h({},m),e)},searchIsDirty:function(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem:function(){var e=this;return this.multiple?null:this.selectedItems.find((function(i){return e.valueComparator(e.getValue(i),e.getValue(e.internalValue))}))},listData:function(){var data=o.a.options.computed.listData.call(this);return data.props=h(h({},data.props),{},{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),data}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused:function(e){e?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.blur(),this.updateSelf())},isMenuActive:function(e){!e&&this.hasSlot&&(this.lazySearch=null)},items:function(e,t){t&&t.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!e.length||this.activateMenu()},searchInput:function(e){this.lazySearch=e},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created:function(){this.setSearch()},destroyed:function(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged:function(e,t){var r=this;if(e!==t){if(!this.autoSelectFirst){var n=t[this.$refs.menu.listIndex];n?this.setMenuIndex(e.findIndex((function(i){return i===n}))):this.setMenuIndex(-1),this.$emit("update:list-index",this.$refs.menu.listIndex)}this.$nextTick((function(){r.internalSearch&&(1===e.length||r.autoSelectFirst)&&(r.$refs.menu.getTiles(),r.autoSelectFirst&&e.length&&(r.setMenuIndex(0),r.$emit("update:list-index",r.$refs.menu.listIndex)))}))}},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(e){this.searchIsDirty||(this.multiple&&e===d.y.left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&e===d.y.right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:e!==d.y.backspace&&e!==d.y.delete||this.deleteCurrentItem())},deleteCurrentItem:function(){var e=this.selectedIndex,t=this.selectedItems[e];if(this.isInteractive&&!this.getDisabled(t)){var r=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===r){var n=e!==this.selectedItems.length-1?e:e-1;this.selectedItems[n]?this.selectItem(t):this.setValue(this.multiple?[]:null),this.selectedIndex=n}else this.selectedIndex=r}},clearableCallback:function(){this.internalSearch=null,o.a.options.methods.clearableCallback.call(this)},genInput:function(){var input=l.a.options.methods.genInput.call(this);return input.data=Object(c.a)(input.data,{attrs:{"aria-activedescendant":Object(d.q)(this.$refs.menu,"activeTile.id"),autocomplete:Object(d.q)(input.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),input},genInputSlot:function(){var slot=o.a.options.methods.genInputSlot.call(this);return slot.data.attrs.role="combobox",slot},genSelections:function(){return this.hasSlot||this.multiple?o.a.options.methods.genSelections.call(this):[]},onClick:function(e){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(e.target)||this.activateMenu())},onInput:function(e){if(!(this.selectedIndex>-1)&&e.target){var t=e.target,r=t.value;t.value&&this.activateMenu(),this.multiple||""!==r||this.deleteCurrentItem(),this.internalSearch=r,this.badInput=t.validity&&t.validity.badInput}},onKeyDown:function(e){var t=e.keyCode;!e.ctrlKey&&[d.y.home,d.y.end].includes(t)||o.a.options.methods.onKeyDown.call(this,e),this.changeSelectedIndex(t)},onSpaceDown:function(e){},onTabDown:function(e){o.a.options.methods.onTabDown.call(this,e),this.updateSelf()},onUpDown:function(e){e.preventDefault(),this.activateMenu()},selectItem:function(e){o.a.options.methods.selectItem.call(this,e),this.setSearch()},setSelectedItems:function(){o.a.options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var e=this;this.$nextTick((function(){e.multiple&&e.internalSearch&&e.isMenuActive||(e.internalSearch=!e.selectedItems.length||e.multiple||e.hasSlot?null:e.getText(e.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.multiple||this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(e){return this.selectedValues.indexOf(this.getValue(e))>-1},onCopy:function(e){var t,r;if(-1!==this.selectedIndex){var n=this.selectedItems[this.selectedIndex],o=this.getText(n);null==(t=e.clipboardData)||t.setData("text/plain",o),null==(r=e.clipboardData)||r.setData("text/vnd.vuetify.autocomplete.item+plain",o),e.preventDefault()}}}})},794:function(e,t,r){"use strict";r(727)},795:function(e,t,r){var n=r(18)(!1);n.push([e.i,".orders-page[data-v-401bcb02]{position:relative;padding:0 20px 80px}.filter-fixed[data-v-401bcb02]{position:-webkit-sticky;position:sticky;top:64px;z-index:4;background-color:#fff;box-shadow:0 2px 4px rgba(0,0,0,.1),0 6px 12px rgba(0,0,0,.1)!important}[data-v-401bcb02] tr.parent-order{background-color:#c3e2f9!important;font-weight:700!important}.text-success[data-v-401bcb02]{color:#4caf50;font-weight:600}.text-error[data-v-401bcb02]{color:#f44336;font-weight:600}.v-autocomplete[data-v-401bcb02]:hover,.v-select[data-v-401bcb02]:hover,.v-text-field[data-v-401bcb02]:hover{transition:.2s ease}.v-chip[data-v-401bcb02]{font-weight:600;font-size:12px;text-transform:uppercase}[data-v-401bcb02] .v-input.field-custom .v-select__selection.v-select__selection--comma,[data-v-401bcb02] .v-input.field-custom input{font-size:12px!important}.order-card[data-v-401bcb02]{position:relative;padding:8px;border-radius:12px;transition:.2s;cursor:pointer;border-left:5px solid transparent;display:flex;flex-direction:column;justify-content:space-between;height:550px;overflow:hidden}.order-card[data-v-401bcb02]:hover{box-shadow:0 4px 16px rgba(0,0,0,.08)}.order-filled-overlay[data-v-401bcb02]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-25deg);font-size:60px;font-weight:900;color:rgba(0,0,0,.08);pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:1}.buy-card[data-v-401bcb02]{background-color:#e8f9f1}.sell-card[data-v-401bcb02]{background-color:#ffeaea}.profit[data-v-401bcb02]{border-left-color:#2ecc71}.loss[data-v-401bcb02]{border-left-color:#e74c3c}.pending[data-v-401bcb02]{border-left-color:#3c8fe7}.pending-chip[data-v-401bcb02]{background-color:#3c8fe7!important}.symbol[data-v-401bcb02]{font-size:1.5rem;color:#1c38da;font-weight:900}.id-info[data-v-401bcb02]{font-size:15px!important;font-weight:700;color:#333;letter-spacing:.5px}.leverage-info[data-v-401bcb02]{font-size:15px;color:#444;font-weight:700}.sl-container[data-v-401bcb02],.tp-container[data-v-401bcb02]{max-height:130px;overflow-y:auto;padding-right:6px}.sl-item[data-v-401bcb02],.tp-item[data-v-401bcb02]{display:flex;align-items:center;margin-bottom:6px}.sl-chip[data-v-401bcb02],.tp-chip[data-v-401bcb02]{min-width:80px;font-weight:600}.tp-filled[data-v-401bcb02]{color:#fff!important}.tp-notfilled[data-v-401bcb02]{color:#555!important}.sl-filled[data-v-401bcb02]{color:#fff!important}.sl-notfilled[data-v-401bcb02]{color:#555!important}.sl-pnl[data-v-401bcb02],.tp-pnl[data-v-401bcb02]{margin-left:8px;font-weight:700;font-size:.9rem;white-space:nowrap}.tp-profit[data-v-401bcb02]{color:#2ecc71}.tp-loss[data-v-401bcb02],.tp-profit[data-v-401bcb02]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:13px}.tp-loss[data-v-401bcb02]{color:#e74c3c}.leverage-info[data-v-401bcb02]{display:flex;flex-direction:column;grid-gap:6px;gap:6px}.leverage-info-row[data-v-401bcb02]{display:flex;align-items:center;font-weight:400!important}.leverage-info-title[data-v-401bcb02]{width:150px;display:flex;align-items:center;font-weight:700!important;grid-gap:6px;gap:6px}.sl-canceled[data-v-401bcb02],.tp-canceled[data-v-401bcb02]{text-decoration:line-through;opacity:.7}.order-item[data-v-401bcb02]{margin-bottom:4px;padding:4px 12px!important;border-radius:4px;transition:background-color .3s ease;min-height:36px;font-size:.85rem}.win-order[data-v-401bcb02]{background-color:#d4edda!important;border-left:4px solid #28a745}.lose-order[data-v-401bcb02]{background-color:#f8d7da!important;border-left:4px solid #dc3545}.pending-order[data-v-401bcb02]{background-color:#fff3cd!important;border-left:4px solid #ffc107}.side-chip[data-v-401bcb02]{font-size:.65rem!important;min-width:40px;text-align:center}.pnl-win[data-v-401bcb02]{color:#155724}.pnl-loss[data-v-401bcb02],.pnl-win[data-v-401bcb02]{font-weight:700;font-size:1.2rem}.pnl-loss[data-v-401bcb02]{color:#721c24}.copy-btn[data-v-401bcb02]{margin-left:4px;color:#666;padding:2px;min-width:24px;height:24px}.copy-btn[data-v-401bcb02]:hover{color:#000;background-color:rgba(0,0,0,.1);border-radius:4px;cursor:pointer}.text-profit[data-v-401bcb02]{color:#2e7d32}.text-loss[data-v-401bcb02]{color:#c62828}",""]),e.exports=n},833:function(e,t,r){"use strict";r.r(t);var n=r(777),o=r(233),l=r(688),c=r(687),d=r(708),f=r(697),h=r(707),m=r(827),v=r(826),_=r(699),y=r(671),x=r(268),S=r(235),O=r(238),w=r(152),C=r(93),I=r(130),k=r(670),D=r(683),L=r(710),T=r(791),j=r(681),E=r(711),M=r(28),P=(r(32),r(264),r(273),r(11),r(9),r(16),r(17),r(56),r(36),r(60),r(68),r(72),r(20)),F=r(85),z=r(1),A=(r(86),r(5),r(384),r(49),r(385),r(386),r(387),r(388),r(389),r(390),r(391),r(392),r(393),r(394),r(395),r(396),r(397),r(398),r(399),r(400),r(57),r(65),r(15),r(270),r(48),r(66),r(271),r(35),r(8),r(134)),N=r.n(A),R=r(46),B=r(4);function $(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==r.return||r.return()}finally{if(c)throw o}}}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function Y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function G(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Y(Object(source),!0).forEach((function(t){Object(z.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var K={name:"OrderListPage",data:function(){return{mode:"table",search:"",loading:!1,orderDetailDialog:!1,selectedOrder:null,filterVisible:!0,fromMenu:!1,toMenu:!1,statusOptions:["OPEN","NEW","FILLED","CANCELED","EXPIRED"],filters:{pnl:null,symbol:[],from_date:null,to_date:null,order_id:"",status:[]},orderList:[],orderGroups:[],headers:[{text:"ID Lệnh Cha",value:"parent_order_id",sortable:!1},{text:"ID Lệnh",value:"order_id"},{text:"Client ID Lệnh",value:"client_order_id"},{text:"Mã Giao Dịch",value:"symbol"},{text:"Side",value:"side"},{text:"Loại Lệnh",value:"order_type"},{text:"Lãi/Lỗ",value:"realized_pnl"},{text:"Trạng Thái",value:"status"},{text:"Ngày Tạo",value:"created_at"},{text:"Cập Nhật",value:"updated_at"},{text:"Ghi Chú",value:"notes"},{text:"Thao Tác",value:"actions",sortable:!1}],editMode:!1,editFormData:{id:null,client_order_id:"",notes:"",status:"",price:null,quantity:null},totalProfit:0,totalLoss:0,STORAGE_KEYS:{FILTERS:"orderListPage_filters",FILTER_VISIBLE:"orderListPage_filterVisible",MODE:"orderListPage_mode"}}},computed:G(G({},Object(R.c)({botOrderList:"bot/botOrderList"})),{},{uniqueSymbols:function(){var e=new Set(this.orderList.map((function(e){return e.symbol})));return Object(F.a)(e)},filteredOrderFields:function(){return this.selectedOrder?Object.entries(this.selectedOrder).filter((function(e){var t=Object(M.a)(e,1)[0];return"notes"!==t&&"status"!==t&&"realized_pnl"!==t})):[]},filteredOrders:function(){var e=this.search.toLowerCase();return this.orderGroups.filter((function(t){return(t.symbol||"").toLowerCase().includes(e)||(t.status||"").toLowerCase().includes(e)||(t.client_order_id||"").toLowerCase().includes(e)||(t.notes||"").toLowerCase().includes(e)}))},ordersGroupedByDate:function(){var e,t={},r=$(this.orderGroups);try{for(r.s();!(e=r.n()).done;){var n=e.value,o=this.formatDateOnly(n.created_at);t[o]||(t[o]={orders:[],winCount:0,loseCount:0,pendingCount:0}),t[o].orders.push(n),n.children_filled?n.pnl>=0?t[o].winCount++:t[o].loseCount++:t[o].pendingCount++}}catch(e){r.e(e)}finally{r.f()}return Object.entries(t).map((function(e){var t=Object(M.a)(e,2),r=t[0],data=t[1];return{date:r,orders:data.orders,winCount:data.winCount,loseCount:data.loseCount,pendingCount:data.pendingCount}})).sort((function(a,b){return a.date<b.date?1:-1}))}}),watch:{filterVisible:function(e){this.saveLocalStorage()},mode:function(e){this.saveLocalStorage()}},mounted:function(){this.init()},methods:G(G({},Object(R.b)({setLoadingForm:"common/setLoadingForm",toggleSnackbar:"common/toggleSnackbar",getBotOrderList:"bot/getBotOrderList",updateBotOrder:"bot/updateBotOrder",deleteBotOrder:"bot/deleteBotOrder"})),{},{init:function(){var e=this;return Object(P.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.resetFilters(),e.loadLocalStorage(),t.next=4,e.fetchOrders();case 4:case"end":return t.stop()}}),t)})))()},fetchOrders:function(){var e=this;return Object(P.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,r={pnl_type:"LÃI"===e.filters.pnl?"profit":"LỖ"===e.filters.pnl?"loss":null,symbol:e.filters.symbol.length>0?e.filters.symbol:null,from_date:e.filters.from_date||null,to_date:e.filters.to_date||null,order_id:e.filters.order_id||null,status:e.filters.status.length>0?e.filters.status:null},e.setLoadingForm(!0),t.next=6,e.getBotOrderList(r);case 6:n=e.exceptionApi_checkApiResult(B.a.API_PATH.BOT_ORDER_LIST.PATH),e.orderList=n?Object(F.a)(e.botOrderList):[],e.setLoadingForm(!1),e.calculateTotalPnL(e.orderList),e.orderGroups=e.groupOrdersWithTpSlSplit(e.orderList),e.$vuetify.breakpoint.smAndDown&&(e.filterVisible=!1),e.saveLocalStorage(),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),e.toggleSnackbar({isShow:!0,message:"Không tải được danh sách lệnh",color:"error"});case 18:return t.prev=18,e.loading=!1,e.setLoadingForm(!1),t.finish(18);case 22:case"end":return t.stop()}}),t,null,[[1,15,18,22]])})))()},setMode:function(e){this.mode=e,this.$vuetify.breakpoint.smAndDown&&(this.filterVisible=!1),this.$nextTick((function(){window.scrollTo({top:0,behavior:"smooth"})}))},groupOrdersWithTpSlSplit:function(e){var t,r={},n=[],o=new Set(e.map((function(e){return e.order_id}))),l=$(e);try{for(l.s();!(t=l.n()).done;){var c=t.value,d=null===c.parent_order_id,f=d?c.order_id:c.parent_order_id;if(d){r[f]?Object.assign(r[f],G(G({},c),{},{entry_price:c.price,id:c.id,symbol:c.symbol,side:c.side,margin_type:c.margin_type,quantity:c.quantity,leverage:c.leverage,margin:c.margin,status:c.status,created_at:c.created_at,updated_at:c.updated_at,notes:c.notes,source:c.source,version:c.version})):(r[f]=G(G({},c),{},{entry_price:c.price,pnl:0,tp_list:[],sl_list:[],other_list:[]}),n.push(r[f]));var h=parseFloat(c.realized_pnl||0)-parseFloat(c.fee||0);isNaN(h)||(r[f].pnl+=h)}else if(o.has(f)){var m=G(G({},c),{},{filled:"FILLED"===c.status});switch(r[f]||(r[f]={order_id:f,pnl:0,tp_list:[],sl_list:[],other_list:[]},n.push(r[f])),c.order_type){case"TAKE_PROFIT":r[f].tp_list.push(m);break;case"STOP_MARKET":r[f].sl_list.push(m);break;default:r[f].other_list.push(m)}var v=parseFloat(c.realized_pnl||0)-parseFloat(c.fee||0);isNaN(v)||(r[f].pnl+=v)}else console.warn("⚠️ Bỏ qua lệnh con không có cha:",c)}}catch(e){l.e(e)}finally{l.f()}for(var _=0,y=n;_<y.length;_++){var x=y[_],S=[].concat(Object(F.a)(x.tp_list||[]),Object(F.a)(x.sl_list||[]),Object(F.a)(x.other_list||[]));x.children_filled=S.length>0&&S.every((function(e){return"NEW"!==e.status}))}return n},calculateTotalPnL:function(data){var e=0,t=0;data.forEach((function(r){var n=parseFloat(r.realized_pnl||0);n>0?e+=n:n<0&&(t+=n)})),this.totalProfit=e,this.totalLoss=t},resetFilters:function(){this.filters={pnl:null,symbol:[],from_date:N()().subtract(7,"days").format("YYYY-MM-DD"),to_date:N()().format("YYYY-MM-DD"),order_id:"",status:[]}},viewOrder:function(e){this.selectedOrder=G({},e),this.orderDetailDialog=!0},formatNumber:function(e){return null==e?void 0:e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:3})},formatTime:function(e){return N()(e).format("YYYY-MM-DD HH:mm:ss")},statusColor:function(e){switch(e){case"FILLED":return"green";case"CANCELED":return"grey";case"OPEN":case"NEW":return"blue";case"EXPIRED":return"orange";default:return"primary"}},getRowClass:function(e){return null===e.parent_order_id?"parent-order":""},formatLabel:function(e){return{id:"ID",order_id:"Mã Lệnh",parent_order_id:"Lệnh Cha",client_order_id:"Client ID",status:"Trạng Thái",notes:"Ghi Chú",price:"Giá",quantity:"Số Lượng",side:"Side",order_type:"Loại Lệnh",margin_type:"Loại Margin",leverage:"Đòn Bẩy",symbol:"Symbol",realized_pnl:"PnL",created_at:"Ngày Tạo",updated_at:"Cập Nhật",filled_at:"Khớp Lệnh",canceled_at:"Huỷ Lệnh",timestamp:"Timestamp"}[e]||e},submitUpdateFromDialog:function(){var e=this;return Object(P.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={id:e.selectedOrder.id,realized_pnl:e.selectedOrder.realized_pnl,notes:e.selectedOrder.notes,status:e.selectedOrder.status},e.setLoadingForm(!0),t.next=5,e.updateBotOrder(r);case 5:e.setLoadingForm(!1),e.exceptionApi_checkApiResult(B.a.API_PATH.BOT_ORDER_UPDATE.PATH),e.toggleSnackbar({isShow:!0,message:"Cập nhật thành công",color:"success"}),e.editMode=!1,e.orderDetailDialog=!1,e.fetchOrders(),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),e.toggleSnackbar({isShow:!0,message:"Lỗi cập nhật",color:"error"}),e.setLoadingForm(!1);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))()},deleteOrder:function(e){var t=this;return Object(P.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!confirm("Bạn có chắc chắn muốn xoá lệnh ".concat(e.order_id,"?"))){r.next=15;break}return r.prev=1,t.setLoadingForm(!0),r.next=5,t.deleteBotOrder({id:e.id});case 5:t.setLoadingForm(!1),t.exceptionApi_checkApiResult(B.a.API_PATH.BOT_ORDER_DELETE.PATH),t.toggleSnackbar({isShow:!0,message:"Xoá thành công",color:"success"}),t.fetchOrders(),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(1),t.toggleSnackbar({isShow:!0,message:"Xoá thất bại",color:"error"}),t.setLoadingForm(!0);case 15:case"end":return r.stop()}}),r,null,[[1,11]])})))()},copyToClipboard:function(text){var e=this;if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(text).then((function(){e.toggleSnackbar({isShow:!0,message:"✅ Đã sao chép vào clipboard!",color:"success"})})).catch((function(){e.toggleSnackbar({isShow:!0,message:"❌ Sao chép thất bại!",color:"error"})}));else{var textarea=document.createElement("textarea");textarea.value=text,textarea.style.position="fixed",textarea.style.top="-9999px",document.body.appendChild(textarea),textarea.focus(),textarea.select();try{var t=document.execCommand("copy");this.toggleSnackbar({isShow:!0,message:t?"✅ Đã sao chép (bằng fallback)!":"❌ Không thể sao chép!",color:t?"success":"error"})}catch(e){this.toggleSnackbar({isShow:!0,message:"❌ Sao chép thất bại!",color:"error"})}document.body.removeChild(textarea)}},loadLocalStorage:function(){try{var e=localStorage.getItem(this.STORAGE_KEYS.FILTERS);e&&(this.filters=JSON.parse(e));var t=localStorage.getItem(this.STORAGE_KEYS.FILTER_VISIBLE);null!==t&&(this.filterVisible="true"===t);var r=localStorage.getItem(this.STORAGE_KEYS.MODE);r&&(this.mode=r)}catch(e){}},saveLocalStorage:function(){try{localStorage.setItem(this.STORAGE_KEYS.FILTERS,JSON.stringify(this.filters)),localStorage.setItem(this.STORAGE_KEYS.FILTER_VISIBLE,this.filterVisible),localStorage.setItem(this.STORAGE_KEYS.MODE,this.mode)}catch(e){}},formatDateOnly:function(e){return N()(e).format("YYYY-MM-DD")}})},U=(r(794),r(40)),component=Object(U.a)(K,(function(){var e=this,t=e._self._c;return t(h.a,{staticClass:"orders-page",attrs:{fluid:""}},[t(l.a,{staticClass:"filter-fixed pa-4 mb-3",attrs:{flat:""}},[t("div",{staticClass:"d-flex justify-space-between align-center mb-2"},[t("span",{staticClass:"text-h6 font-weight-bold"},[e._v("Bộ lọc điều kiện")]),e._v(" "),t(o.a,{staticClass:"font-weight-bold",attrs:{color:"primary",elevation:"1",rounded:"",small:""},on:{click:function(t){e.filterVisible=!e.filterVisible}}},[t(S.a,{attrs:{left:""}},[e._v("\n          "+e._s(e.filterVisible?"mdi-chevron-up":"mdi-chevron-down")+"\n        ")]),e._v("\n        "+e._s(e.filterVisible?"Ẩn bộ lọc":"Hiện bộ lọc")+"\n      ")],1)],1),e._v(" "),t(x.a,[t("div",{directives:[{name:"show",rawName:"v-show",value:e.filterVisible,expression:"filterVisible"}]},[t(D.a,{attrs:{dense:""}},[t(f.a,{attrs:{cols:"12",md:"3"}},[t(n.a,{attrs:{items:["LÃI","LỖ"],label:"Lãi / Lỗ",dense:"",outlined:"",clearable:"","prepend-icon":"mdi-cash-multiple","item-text":"text","item-value":"value","hide-details":""},scopedSlots:e._u([{key:"selection",fn:function(r){var n=r.item;return[t(d.a,{attrs:{color:"LÃI"===n?"green":"red",dark:"",small:""}},[e._v(e._s(n))])]}},{key:"item",fn:function(r){var n=r.item,o=r.on,l=r.attrs;return[t(w.a,e._g(e._b({},"v-list-item",l,!1),o),[t(C.a,[t(C.b,{style:{color:"LÃI"===n?"#4caf50":"#f44336"}},[e._v("\n                      "+e._s(n)+"\n                    ")])],1)],1)]}}]),model:{value:e.filters.pnl,callback:function(t){e.$set(e.filters,"pnl",t)},expression:"filters.pnl"}})],1),e._v(" "),t(f.a,{attrs:{cols:"12",md:"3"}},[t(n.a,{attrs:{items:e.uniqueSymbols,label:"Symbol",dense:"",outlined:"",clearable:"","prepend-icon":"mdi-finance",chips:"","small-chips":"",multiple:"","hide-details":""},scopedSlots:e._u([{key:"selection",fn:function(r){var n=r.item;return[t(d.a,{attrs:{color:e.statusColor(n),dark:"",small:""}},[e._v(e._s(n))])]}}]),model:{value:e.filters.symbol,callback:function(t){e.$set(e.filters,"symbol",t)},expression:"filters.symbol"}})],1),e._v(" "),t(f.a,{attrs:{cols:"12",md:"3"}},[t(k.a,{ref:"fromMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on,o=r.attrs;return[t(E.a,e._g(e._b({attrs:{label:"Từ ngày",readonly:"",dense:"",outlined:"",clearable:"","prepend-icon":"mdi-calendar","hide-details":""},model:{value:e.filters.from_date,callback:function(t){e.$set(e.filters,"from_date",t)},expression:"filters.from_date"}},"v-text-field",o,!1),n))]}}]),model:{value:e.fromMenu,callback:function(t){e.fromMenu=t},expression:"fromMenu"}},[e._v(" "),t(v.a,{on:{input:function(t){e.fromMenu=!1}},model:{value:e.filters.from_date,callback:function(t){e.$set(e.filters,"from_date",t)},expression:"filters.from_date"}})],1)],1),e._v(" "),t(f.a,{attrs:{cols:"12",md:"3"}},[t(k.a,{ref:"toMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on,o=r.attrs;return[t(E.a,e._g(e._b({attrs:{label:"Đến ngày",readonly:"",dense:"",outlined:"",clearable:"","prepend-icon":"mdi-calendar","hide-details":""},model:{value:e.filters.to_date,callback:function(t){e.$set(e.filters,"to_date",t)},expression:"filters.to_date"}},"v-text-field",o,!1),n))]}}]),model:{value:e.toMenu,callback:function(t){e.toMenu=t},expression:"toMenu"}},[e._v(" "),t(v.a,{on:{input:function(t){e.toMenu=!1}},model:{value:e.filters.to_date,callback:function(t){e.$set(e.filters,"to_date",t)},expression:"filters.to_date"}})],1)],1),e._v(" "),t(f.a,{attrs:{cols:"12",md:"3"}},[t(E.a,{attrs:{label:"Order ID / Client ID",dense:"",outlined:"",clearable:"","prepend-icon":"mdi-pound","hide-details":""},model:{value:e.filters.order_id,callback:function(t){e.$set(e.filters,"order_id",t)},expression:"filters.order_id"}})],1),e._v(" "),t(f.a,{attrs:{cols:"12",md:"3"}},[t(n.a,{attrs:{items:e.statusOptions,label:"Trạng thái",multiple:"",dense:"",outlined:"",clearable:"",chips:"","small-chips":"","prepend-icon":"mdi-tune","hide-details":""},scopedSlots:e._u([{key:"selection",fn:function(r){var n=r.item;return[t(d.a,{attrs:{color:e.statusColor(n),dark:"",small:""}},[e._v(e._s(n))])]}}]),model:{value:e.filters.status,callback:function(t){e.$set(e.filters,"status",t)},expression:"filters.status"}})],1),e._v(" "),t(f.a,{attrs:{cols:"12",md:"6"}},[t(E.a,{attrs:{"append-icon":"mdi-magnify",label:"Tìm kiếm từ khoá","single-line":"","hide-details":"",dense:"",outlined:"",clearable:"","prepend-icon":"mdi-magnify"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),t(f.a,{staticClass:"d-flex justify-end align-center flex-wrap",class:e.$vuetify.breakpoint.smAndDown?"flex-column align-stretch":"",attrs:{cols:"12"}},[t(o.a,{staticClass:"ml-2 mt-3",attrs:{small:"",color:"table"===e.mode?"primary":"grey lighten-3"},on:{click:function(t){return e.setMode("table")}}},[t(S.a,{attrs:{left:""}},[e._v("mdi-table")]),e._v("Bảng\n            ")],1),e._v(" "),t(o.a,{staticClass:"ml-2 mt-3",attrs:{small:"",color:"card"===e.mode?"primary":"grey lighten-3"},on:{click:function(t){return e.setMode("card")}}},[t(S.a,{attrs:{left:""}},[e._v("mdi-view-grid")]),e._v("Thẻ\n            ")],1),e._v(" "),t(o.a,{staticClass:"ml-2 mt-3",attrs:{small:"",color:"daily"===e.mode?"primary":"grey lighten-3"},on:{click:function(t){return e.setMode("daily")}}},[t(S.a,{attrs:{left:""}},[e._v("mdi-calendar")]),e._v("Ngày\n            ")],1),e._v(" "),t(o.a,{attrs:{small:"",color:"grey lighten-3 ml-2 mt-3"},on:{click:e.resetFilters}},[t(S.a,{attrs:{left:""}},[e._v("mdi-refresh")]),e._v(" Reset\n            ")],1),e._v(" "),t(o.a,{staticClass:"ml-2 mt-3",attrs:{color:"primary",small:""},on:{click:e.fetchOrders}},[t(S.a,{attrs:{left:""}},[e._v("mdi-magnify")]),e._v(" Tìm kiếm\n            ")],1)],1)],1)],1)])],1),e._v(" "),t("div",{staticClass:"d-flex align-center mb-3",staticStyle:{gap:"16px"}},[t(d.a,{staticClass:"font-weight-bold white--text",staticStyle:{"font-size":"14px",height:"36px",padding:"0 12px"},attrs:{color:"green",label:""}},[t(S.a,{attrs:{left:"",small:""}},[e._v("mdi-trending-up")]),e._v("\n      +"+e._s(e.totalProfit.toFixed(2))+" USDT\n    ")],1),e._v(" "),t(d.a,{staticClass:"font-weight-bold white--text",staticStyle:{"font-size":"14px",height:"36px",padding:"0 12px"},attrs:{color:"red",label:""}},[t(S.a,{attrs:{left:"",small:""}},[e._v("mdi-trending-down")]),e._v("\n      "+e._s(e.totalLoss.toFixed(2))+" USDT\n    ")],1)],1),e._v(" "),"table"===e.mode?t(m.a,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.orderList,search:e.search,loading:e.loading,"item-key":"order_id","items-per-page":50,"footer-props":{"items-per-page-options":[10,20,50,100,200],"items-per-page-text":"Số dòng mỗi trang","items-per-page-all-text":"Tất cả"},"no-data-text":"Không có lệnh nào","loading-text":"Đang tải dữ liệu...","item-class":e.getRowClass,"fixed-header":"",height:"700px"},scopedSlots:e._u([{key:"item.side",fn:function(r){var n=r.item;return[t(d.a,{attrs:{color:"BUY"===n.side?"green":"red",small:"",dark:""}},[e._v("\n        "+e._s(n.side)+"\n      ")])]}},{key:"item.realized_pnl",fn:function(r){var n=r.item;return[t("span",{class:n.realized_pnl>=0?"text-success":"text-error"},[e._v("\n        "+e._s(e.formatNumber(n.realized_pnl))+"\n      ")])]}},{key:"item.status",fn:function(r){var n=r.item;return[t(d.a,{attrs:{color:e.statusColor(n.status),small:"",outlined:""}},[e._v("\n        "+e._s(n.status)+"\n      ")])]}},{key:"item.created_at",fn:function(t){var r=t.item;return[e._v("\n      "+e._s(e.formatTime(r.created_at))+"\n    ")]}},{key:"item.price",fn:function(t){var r=t.item;return[e._v("\n      "+e._s(e.formatNumber(r.price))+"\n    ")]}},{key:"item.quantity",fn:function(t){var r=t.item;return[e._v("\n      "+e._s(e.formatNumber(r.quantity))+"\n    ")]}},{key:"item.actions",fn:function(r){var n=r.item;return[t(S.a,{staticClass:"mr-2",attrs:{small:"",color:"primary"},on:{click:function(t){return e.viewOrder(n)}}},[e._v("mdi-eye")]),e._v(" "),t(S.a,{attrs:{small:"",color:"red"},on:{click:function(t){return e.deleteOrder(n)}}},[e._v("mdi-delete")])]}}],null,!0)}):e._e(),e._v(" "),"card"===e.mode?t(D.a,{attrs:{dense:""}},e._l(e.filteredOrders,(function(r,n){return t(f.a,{key:n,attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[t(l.a,{staticClass:"order-card",class:["BUY"===r.side?"buy-card":"sell-card",r.children_filled?r.pnl>=0?"profit":"loss":"pending"],attrs:{flat:"",elevation:"2"}},[r.children_filled?t("div",{staticClass:"order-filled-overlay"},[e._v("FILLED")]):e._e(),e._v(" "),t("div",{staticClass:"d-flex justify-space-between align-center mb-2"},[t("div",{staticClass:"symbol"},[e._v("\n            "+e._s(r.symbol)+" | "+e._s(r.order_id)+"\n            "),t(o.a,{attrs:{icon:"",small:"",color:"primary",title:"Copy Order ID"},on:{click:function(t){return e.copyToClipboard(r.order_id)}}},[t(S.a,[e._v("mdi-content-copy")])],1)],1),e._v(" "),t(d.a,{attrs:{color:"BUY"===r.side?"green":"red",small:"",dark:""}},[e._v("\n            "+e._s(r.side)+"\n          ")])],1),e._v(" "),t("div",{staticClass:"id-info mb-1",staticStyle:{"font-size":"0.9rem",color:"#444"}},[t("div",[t("strong",[e._v("ID:")]),e._v(" "+e._s(r.id))])]),e._v(" "),t("div",{staticClass:"d-flex",staticStyle:{gap:"8px","align-items":"flex-end"}},[t(d.a,{staticClass:"font-weight-bold",attrs:{color:r.children_filled?r.pnl>=0?"green":"red":"pending-chip",label:"",large:"",dark:""}},[t(S.a,{attrs:{left:""}},[e._v("\n              "+e._s(r.children_filled?r.pnl>=0?"mdi-arrow-up-bold-circle":"mdi-arrow-down-bold-circle":"mdi-timer-sand")+"\n            ")]),e._v("\n            "+e._s(r.children_filled?r.pnl>=0?"LÃI:":"LỖ:":"CHỜ:")+"\n            "+e._s(e.formatNumber(r.pnl))+" USDT\n          ")],1),e._v(" "),t(d.a,{staticClass:"fee-chip font-weight-medium",staticStyle:{color:"#b85c7a"},attrs:{color:"pink lighten-5",label:"",small:"",title:"Phí giao dịch"}},[t(S.a,{staticStyle:{color:"#b85c7a"},attrs:{left:"",small:""}},[e._v("mdi-cash")]),e._v("\n            Phí: "+e._s(e.formatNumber(r.fee||0))+" USDT\n          ")],1)],1),e._v(" "),t("div",{staticClass:"leverage-info mb-2"},[t("div",{staticClass:"leverage-info-row"},[t("span",{staticClass:"leverage-info-title"},[e._v("📆 Ngày tạo lệnh:")]),e._v(" "),t("span",[e._v(e._s(e.formatTime(r.created_at)))])]),e._v(" "),t("div",{staticClass:"leverage-info-row"},[t("span",{staticClass:"leverage-info-title"},[e._v("📆 Ngày cập nhật:")]),e._v(" "),t("span",[e._v(e._s(e.formatTime(r.updated_at)))])]),e._v(" "),t("div",{staticClass:"leverage-info-row"},[t("span",{staticClass:"leverage-info-title"},[e._v("⚙️ Đòn bẩy:")]),e._v(" "),t("span",[e._v(e._s(r.margin_type)+" x "+e._s(r.leverage))])]),e._v(" "),t("div",{staticClass:"leverage-info-row"},[t("span",{staticClass:"leverage-info-title"},[e._v("📦 Số lượng:")]),e._v(" "),t("span",[e._v(e._s(r.quantity))])]),e._v(" "),t("div",{staticClass:"leverage-info-row"},[t("span",{staticClass:"leverage-info-title"},[e._v("💵 Giá vào:")]),e._v(" "),t("span",[e._v(e._s(r.entry_price))])])]),e._v(" "),t(y.a,{staticClass:"my-1"}),e._v(" "),t(D.a,{attrs:{dense:""}},[t(f.a,{attrs:{cols:"12",md:"12"}},[t("div",{staticClass:"tp-box px-3 py-1"},[t("strong",{staticClass:"text-sm mb-2 d-block"},[e._v("🎯 TP:")]),e._v(" "),e._l(r.tp_list,(function(r,i){return t("div",{key:"tp-"+i,staticClass:"tp-item"},[t(d.a,{staticClass:"tp-chip mr-1",class:[r.filled?"tp-filled":"tp-notfilled","CANCELED"===r.status?"tp-canceled":""],attrs:{color:r.filled?"green lighten-2":"grey lighten-4",variant:"outlined",small:"",dark:""}},[e._v("\n                  TP"+e._s(i+1)+": "+e._s(r.price)+"\n                ")]),e._v(" "),void 0!==r.realized_pnl&&0!==r.realized_pnl?t("span",{class:r.realized_pnl>=0?"tp-profit":"tp-loss"},[e._v("\n                  "+e._s(r.realized_pnl>=0?"+":"")+e._s(e.formatNumber(r.realized_pnl))+" USDT\n                ")]):e._e()],1)}))],2),e._v(" "),t("div",{staticClass:"sl-box px-3 mt-1"},[t("strong",{staticClass:"text-sm mb-2 d-block"},[e._v("🛡️ SL:")]),e._v(" "),e._l(r.sl_list,(function(r,i){return t("div",{key:"sl-"+i,staticClass:"sl-item"},[t(d.a,{staticClass:"tp-chip mr-1",class:[r.filled?"sl-filled":"sl-notfilled","CANCELED"===r.status?"sl-canceled":""],attrs:{color:r.filled?"red lighten-2":"grey lighten-4",variant:"outlined",small:"",dark:""}},[e._v("\n                  SL"+e._s(i+1)+": "+e._s(r.price)+"\n                ")]),e._v(" "),void 0!==r.realized_pnl&&0!==r.realized_pnl?t("span",{class:r.realized_pnl<0?"tp-loss":"tp-profit"},[e._v("\n                  "+e._s(r.realized_pnl>0?"+":"")+e._s(e.formatNumber(r.realized_pnl))+" USDT\n                ")]):e._e()],1)}))],2)])],1)],1)],1)})),1):e._e(),e._v(" "),"daily"===e.mode?t("div",{staticClass:"daily-mode-container"},[t(D.a,{attrs:{dense:""}},e._l(e.ordersGroupedByDate,(function(r){return t(f.a,{key:r.date,attrs:{cols:"12"}},[t(l.a,{staticClass:"mb-4",attrs:{outlined:""}},[t(c.d,{staticClass:"headline d-flex justify-space-between align-center"},[t("div",[e._v("Ngày: "+e._s(r.date))]),e._v(" "),t("div",[t(d.a,{staticClass:"mr-2",attrs:{color:"green",small:"",label:"",title:"Số lệnh thắng"}},[e._v("\n                Thắng: "+e._s(r.winCount)+"\n              ")]),e._v(" "),t(d.a,{staticClass:"mr-2",attrs:{color:"red",small:"",label:"",title:"Số lệnh thua"}},[e._v("\n                Thua: "+e._s(r.loseCount)+"\n              ")]),e._v(" "),t(d.a,{attrs:{color:"orange",small:"",label:"",title:"Số lệnh chờ"}},[e._v("\n                Chờ: "+e._s(r.pendingCount)+"\n              ")])],1)]),e._v(" "),t(c.c,[t(O.a,{attrs:{dense:""}},e._l(r.orders,(function(r){return t(w.a,{key:r.order_id,staticClass:"order-item",class:{"win-order":r.pnl>=0&&r.children_filled,"lose-order":r.pnl<0&&r.children_filled,"pending-order":!r.children_filled},attrs:{dense:""}},[t(I.a,[t("span",[e._v("\n                    "+e._s(r.children_filled?r.pnl>=0?"🟢":"🔴":"⏳")+"\n                  ")])]),e._v(" "),t(C.a,[t(D.a,{staticClass:"align-center",attrs:{dense:"","no-gutters":""}},[t(f.a,{staticClass:"d-flex align-center mb-0",attrs:{cols:"12",sm:"2"}},[t("div",{staticClass:"d-flex align-center",staticStyle:{gap:"6px"}},[t(d.a,{staticClass:"side-chip",attrs:{color:"BUY"===r.side?"green lighten-2":"red lighten-2",small:"",dark:""}},[e._v("\n                          "+e._s(r.side)+"\n                        ")]),e._v(" "),t("span",{staticClass:"order-id-text"},[e._v(e._s(r.order_id))]),e._v(" "),t(o.a,{attrs:{icon:"",small:"",color:"primary",title:"Copy Order ID"},on:{click:function(t){return e.copyToClipboard(r.order_id)}}},[t(S.a,{attrs:{small:""}},[e._v("mdi-content-copy")])],1)],1)]),e._v(" "),t(f.a,{attrs:{cols:"12",sm:"2"}},[t("strong",[e._v("Symbol:")]),e._v(" "+e._s(r.symbol)+" ")]),e._v(" "),t(f.a,{staticClass:"mb-0 d-flex align-center",attrs:{cols:"12",sm:"3"}},[t("strong",[e._v("Lãi/Lỗ: ")]),e._v(" "),t("span",{class:{"text-profit":r.pnl>0,"text-loss":r.pnl<0},staticStyle:{"font-weight":"600","font-size":"1.1rem"}},[e._v("\n                        "+e._s(e.formatNumber(r.pnl))+" USDT\n                      ")])]),e._v(" "),t(f.a,{staticClass:"mb-0 d-flex align-center",attrs:{cols:"12",sm:"3"}},[t("strong",[e._v("Cập nhật: ")]),e._v(" "),t("span",[e._v("\n                        "+e._s(r.updated_at)+"\n                      ")])])],1)],1)],1)})),1)],1)],1)],1)})),1)],1):e._e(),e._v(" "),t(_.a,{attrs:{"max-width":"700px"},model:{value:e.orderDetailDialog,callback:function(t){e.orderDetailDialog=t},expression:"orderDetailDialog"}},[t(l.a,[t(c.d,{staticClass:"headline d-flex justify-space-between align-center"},[t("span",[e._v("Chi tiết lệnh")]),e._v(" "),e.selectedOrder?t(o.a,{attrs:{icon:""},on:{click:function(t){e.editMode=!e.editMode}}},[t(S.a,[e._v(e._s(e.editMode?"mdi-close":"mdi-pencil"))])],1):e._e()],1),e._v(" "),e.selectedOrder?t(c.c,[t(T.a,{attrs:{dense:""}},[t("tbody",[e._l(e.filteredOrderFields,(function(r){var n=Object(M.a)(r,2),o=n[0],l=n[1];return t("tr",{key:o},[t("td",{staticClass:"font-weight-bold text-caption",staticStyle:{width:"150px"}},[e._v("\n                "+e._s(e.formatLabel(o))+"\n              ")]),e._v(" "),t("td",[e._v(e._s(l))])])})),e._v(" "),t("tr",[t("td",{staticClass:"font-weight-bold text-caption"},[e._v("Lãi/Lỗ")]),e._v(" "),t("td",[e.editMode?t("div",[t(E.a,{staticClass:"field-custom",attrs:{dense:"","hide-details":"",placeholder:"Nhập lợi nhuận"},model:{value:e.selectedOrder.realized_pnl,callback:function(t){e.$set(e.selectedOrder,"realized_pnl",t)},expression:"selectedOrder.realized_pnl"}})],1):t("div",[e._v("\n                  "+e._s(e.selectedOrder.realized_pnl)+"\n                ")])])]),e._v(" "),t("tr",[t("td",{staticClass:"font-weight-bold text-caption"},[e._v("Ghi chú")]),e._v(" "),t("td",[e.editMode?t("div",[t(E.a,{staticClass:"field-custom",attrs:{dense:"","hide-details":"",placeholder:"Nhập ghi chú"},model:{value:e.selectedOrder.notes,callback:function(t){e.$set(e.selectedOrder,"notes",t)},expression:"selectedOrder.notes"}})],1):t("div",[e._v("\n                  "+e._s(e.selectedOrder.notes)+"\n                ")])])]),e._v(" "),t("tr",[t("td",{staticClass:"font-weight-bold text-caption"},[e._v("Trạng thái")]),e._v(" "),t("td",[e.editMode?t("div",[t(L.a,{staticClass:"field-custom",attrs:{items:e.statusOptions,dense:"","hide-details":"",placeholder:"Chọn trạng thái"},model:{value:e.selectedOrder.status,callback:function(t){e.$set(e.selectedOrder,"status",t)},expression:"selectedOrder.status"}})],1):t("div",[e._v("\n                  "+e._s(e.selectedOrder.status)+"\n                ")])])])],2)])],1):e._e(),e._v(" "),t(c.a,[t(j.a),e._v(" "),t(o.a,{attrs:{text:""},on:{click:function(t){e.orderDetailDialog=!1,e.editMode=!1}}},[e._v("Đóng")]),e._v(" "),e.editMode?t(o.a,{attrs:{color:"primary"},on:{click:e.submitUpdateFromDialog}},[t(S.a,{attrs:{left:""}},[e._v("mdi-content-save")]),e._v(" Lưu\n        ")],1):e._e()],1)],1)],1)],1)}),[],!1,null,"401bcb02",null);t.default=component.exports}}]);